(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-product-security-security"],{"0d58":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5530")),s=i(n("c7eb")),r=i(n("1da1"));n("e9c4"),n("d81d");var o=n("1af4"),c=n("255e"),u=n("3551"),h=i(n("73ba")),l={props:h.default,data:function(){return{canvasWidth:null,canvasHeight:null,offscreenWidth:null,offscreenHeight:null,useCanvas2d:!0,show:!0,offscreenStyles:"",showMask:!1}},computed:{canvasId:function(){return"lime-signature".concat(this._uid)},offscreenId:function(){return this.canvasId+"offscreen"},offscreenSize:function(){var t=this.offscreenWidth,e=this.offscreenHeight;return this.landscape?[e,t]:[t,e]},canvasStyle:function(){var t=this.canvasWidth,e=this.canvasHeight,n=this.backgroundColor;return{width:t&&t+"px",height:e&&e+"px",background:n}},param:function(){var t=this.penColor,e=this.penSize,n=this.backgroundColor,i=this.landscape,a=this.boundingBox,s=this.openSmooth,r=this.minLineWidth,o=this.maxLineWidth,c=this.minSpeed,u=this.maxWidthDiffRate,h=this.maxHistoryLength,l=this.disableScroll;return JSON.parse(JSON.stringify({penColor:t,penSize:e,backgroundColor:n,landscape:i,boundingBox:a,openSmooth:s,minLineWidth:r,maxLineWidth:o,minSpeed:c,maxWidthDiffRate:u,maxHistoryLength:h,disableScroll:l}))}},created:function(){this.useCanvas2d="2d"==this.type&&(0,o.canIUseCanvas2d)()&&!o.isPC,this.showMask=o.isPC},mounted:function(){var t=this;return(0,r.default)((0,s.default)().mark((function e(){var n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.beforeDelay){e.next=3;break}return e.next=3,(0,o.sleep)(t.beforeDelay);case 3:return e.next=5,t.getContext();case 5:n=e.sent,t.signature=new c.Signature(n),t.canvasEl=t.signature.canvas.get("el"),t.offscreenWidth=t.canvasWidth=t.signature.canvas.get("width"),t.offscreenHeight=t.canvasHeight=t.signature.canvas.get("height"),t.stopWatch=t.$watch("param",(function(e){t.signature.pen.setOption(e)}),{immediate:!0});case 11:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.stopWatch&&this.stopWatch(),this.signature.destroy(),this.show=!1,this.signature=null},methods:{undo:function(){this.signature&&this.signature.undo()},clear:function(){this.signature&&this.signature.clear()},isEmpty:function(){return this.signature.isEmpty()},canvasToTempFilePath:function(t){var e=this,n=this.isEmpty(),i=function(e){return t.fail&&t.fail(e)},a=this.signature.canvas.get("el"),c=a.canvas,h=this.backgroundColor,l=this.landscape,d=this.boundingBox,f=this.signature.canvas.get("width"),v=this.signature.canvas.get("height"),p=0,g=0,m=function(i){var a=uni.createCanvasContext("offscreen",e);a.save(),a.setTransform(1,0,0,1,0,0),l&&(a.translate(0,f),a.rotate(-Math.PI/2)),h&&(a.fillStyle=h,a.fillRect(0,0,f,v)),a.drawImage(i,0,0,f,v),a.draw(!1,(function(){(0,u.toDataURL)("offscreen",e,t).then((function(e){var i=Math.max(f,v);a.restore(),a.clearRect(0,0,i,i),function(e){t.success&&t.success(e)}({tempFilePath:e,isEmpty:n})}))}))},y=function(){var t={x:p,y:g,width:f,height:v,canvas:c};(0,u.toDataURL)(e.canvasId,e,t).then(m).catch(i)};d&&!o.isPC?this.signature.getContentBoundingBox(function(){var t=(0,r.default)((0,s.default)().mark((function t(n){return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.offscreenWidth=f=n.width,e.offscreenHeight=v=n.height,p=n.startX,g=n.startY,t.next=6,(0,o.sleep)(100);case 6:y();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):y()},getContext:function(){var t=this;return(0,o.getRect)("#".concat(this.canvasId),{context:this,type:this.useCanvas2d?"fields":"boundingClientRect"}).then((function(e){if(e){var n,i=e.width,a=e.height,s=e.node,r=e.left,c=e.top,h=e.right,l=uni.getSystemInfoSync(),d=l.pixelRatio;return s?(n=s.getContext("2d"),s.width=i*d,s.height=a*d):(d=1,n=(0,u.uniContext)(t.canvasId,t),s={createImage:u.createImage,toDataURL:function(){return(0,u.toDataURL)(t.canvasId,t)},requestAnimationFrame:o.requestAnimationFrame}),n.clearRect(0,0,i,a),{left:r,top:c,right:h,width:i,height:a,context:n,canvas:s,pixelRatio:d}}}))},getTouch:function(t){var e=this;return o.isPC&&this.canvasRect&&(t.touches=t.touches.map((function(t){return(0,a.default)((0,a.default)({},t),{},{x:t.clientX-e.canvasRect.left,y:t.clientY-e.canvasRect.top})}))),t},touchStart:function(t){var e=this;this.canvasEl&&(this.isStart=!0,o.isPC?(0,o.getRect)("#".concat(this.canvasId),{context:this}).then((function(n){e.canvasRect=n,e.canvasEl.dispatchEvent("touchstart",(0,o.wrapEvent)(e.getTouch(t)))})):this.canvasEl.dispatchEvent("touchstart",(0,o.wrapEvent)(t)))},touchMove:function(t){!this.canvasEl||!this.isStart&&this.canvasEl||this.canvasEl.dispatchEvent("touchmove",(0,o.wrapEvent)(this.getTouch(t)))},touchEnd:function(t){this.canvasEl&&(this.isStart=!1,this.canvasEl.dispatchEvent("touchend",(0,o.wrapEvent)(t)))}}};e.default=l},"116d":function(t,e,n){"use strict";n.r(e);var i=n("751c"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},"18b8":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("v-uni-view",{ref:"limeSignature",staticClass:"lime-signature",style:[t.canvasStyle,t.styles]},[t.useCanvas2d?n("v-uni-canvas",{staticClass:"lime-signature__canvas",attrs:{id:t.canvasId,type:"2d",disableScroll:t.disableScroll},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.touchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchEnd.apply(void 0,arguments)}}}):n("v-uni-canvas",{staticClass:"lime-signature__canvas",attrs:{disableScroll:t.disableScroll,"canvas-id":t.canvasId,id:t.canvasId,width:t.canvasWidth,height:t.canvasHeight},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.touchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchEnd.apply(void 0,arguments)},mousedown:function(e){arguments[0]=e=t.$handleEvent(e),t.touchStart.apply(void 0,arguments)},mousemove:function(e){arguments[0]=e=t.$handleEvent(e),t.touchMove.apply(void 0,arguments)},mouseup:function(e){arguments[0]=e=t.$handleEvent(e),t.touchEnd.apply(void 0,arguments)}}}),n("v-uni-canvas",{staticClass:"offscreen",style:"width:"+t.offscreenSize[0]+"px;height:"+t.offscreenSize[1]+"px",attrs:{"canvas-id":"offscreen",id:"offscreen",width:t.offscreenSize[0],height:t.offscreenSize[1]}}),t.showMask?n("v-uni-view",{staticClass:"mask",on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchStart.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.touchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchEnd.apply(void 0,arguments)}}}):t._e()],1):t._e()},a=[]},"1af4":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.base64ToPath=function(t){var e=/data:image\/(\w+);base64,(.*)/.exec(t)||[],n=(0,a.default)(e,3);n[1],n[2];return new Promise((function(t,e){}))},e.canIUseCanvas2d=function(){return!1},e.compareVersion=s,e.getRect=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="boundingClientRect",i=e.context,a=e.type,s=void 0===a?n:a;return new Promise((function(e,a){var r=uni.createSelectorQuery().in(i).select(t),o=function(t){t?e(t):a()};s==n?r[s](o).exec():r[s]({node:!0,size:!0,rect:!0},o).exec()}))},e.requestAnimationFrame=e.isPC=void 0,e.sleep=function(t){return new Promise((function(e){return setTimeout(e,t)}))},e.wrapEvent=void 0;var a=i(n("3835"));function s(t,e){t=t.split("."),e=e.split(".");var n=Math.max(t.length,e.length);while(t.length<n)t.push("0");while(e.length<n)e.push("0");for(var i=0;i<n;i++){var a=parseInt(t[i],10),s=parseInt(e[i],10);if(a>s)return 1;if(a<s)return-1}return 0}n("14d9"),n("e25e"),n("ac1f"),n("00b4"),n("d3b7");var r=uni.getSystemInfoSync(),o=r.platform;r.SDKVersion;var c=/windows|mac/.test(o);e.isPC=c;e.wrapEvent=function(t){if(t)return t.preventDefault||(t.preventDefault=function(){}),t};e.requestAnimationFrame=function(t){setTimeout(t,30)}},"255e":function(t,e,n){"use strict";var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Signature=void 0;var a=i(n("53ca"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t){return o="function"==typeof Symbol&&"symbol"==(0,a.default)(Symbol.iterator)?function(t){return(0,a.default)(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":(0,a.default)(t)},o(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;e.length>n;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function v(t,e){return v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},v(t,e)}function p(t,e){if(e&&("object"==(0,a.default)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f(t);if(e){var a=f(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return p(this,n)}}n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("14d9"),n("159b"),n("dbb4"),n("1d1c"),n("7a82"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401"),n("131a"),n("3410"),n("f8c9"),n("4ae1"),n("a434"),n("acd8"),n("a9e3"),n("cb29"),n("fb6a");var m=function(t){var e=o(t);return null!==t&&"object"===e||"function"===e},y={}.toString,b=function(t,e){return y.call(t)==="[object "+e+"]"},w=function(t){return b(t,"String")},x=function(t){return b(t,"Number")},_=function(t){return b(t,"Function")},E=function(){function t(){c(this,t),this.__events=void 0,this.__events={}}return h(t,[{key:"on",value:function(t,e){if(t&&e){var n=this.__events[t]||[];n.push(e),this.__events[t]=n}}},{key:"emit",value:function(t,e){var n=this;if(m(t)&&(t=(e=t)&&e.type),t){var i=this.__events[t];i&&i.length&&i.forEach((function(t){t.call(n,e)}))}}},{key:"off",value:function(t,e){var n=this.__events,i=n[t];if(i&&i.length)if(e)for(var a=0,s=i.length;s>a;a++)i[a]===e&&(i.splice(a,1),a--);else delete n[t]}},{key:"getEvents",value:function(){return this.__events}}]),t}(),C=function(t){d(n,E);var e=g(n);function n(t,i){var a;return c(this,n),(a=e.call(this)).context=void 0,a.canvas=void 0,a.attrs=void 0,a.isCanvasElement=void 0,a.context=t,a.canvas=i.canvas||t.canvas||{width:i.width||0,height:i.height||0},a.attrs=i||{},a.isCanvasElement=!0,a}return h(n,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}},{key:"getContext",value:function(){return this.context}},{key:"getBoundingClientRect",value:function(){var t=this.attrs||{},e=t.top,n=t.right,i=t.width,a=t.height,s=t.left,r=t.bottom;return{top:void 0===e?0:e,width:void 0===i?0:i,right:void 0===n?0:n,height:void 0===a?0:a,bottom:void 0===r?0:r,left:void 0===s?0:s}}},{key:"setAttribute",value:function(t,e){this.attrs[t]=e}},{key:"addEventListener",value:function(t,e){this.on(t,e)}},{key:"removeEventListener",value:function(t,e){this.off(t,e)}},{key:"dispatchEvent",value:function(t,e){this.emit(t,e)}}]),n}();function S(t,e){try{return t.currentStyle?t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}catch(t){return{width:300,height:150}[e]}}function k(t,e){var n=e.get("el");if(!n)return t;var i=n.getBoundingClientRect(),a=i.top,s=void 0===a?0:a,r=i.left,o=void 0===r?0:r,c=parseFloat(S(n,"padding-left"))||0,u=parseFloat(S(n,"padding-top"))||0;return{x:t.x-o-c,y:t.y-s-u}}function P(t,e){var n=e.get("landscape");if(!n)return t;if(_(n))return n(t,e);var i=e.get("height");return{x:t.y,y:i-t.x}}var D=function(t,e){var n=t.touches;if(!n||!n.length)return[P(k({x:t.clientX,y:t.clientY},e),e)];n.length||(n=t.changedTouches||[]);for(var i=[],a=0,s=n.length;s>a;a++){var r,o=n[a],c=o.x,u=o.y,h=o.clientX,l=o.clientY;r=x(c)||x(u)?{x:c,y:u}:k({x:h,y:l},e),i.push(P(r,e))}return i},A=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.abs(n)>Math.abs(i)?n>0?"right":"left":i>0?"down":"up"},M=function(t,e){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.sqrt(n*n+i*i)},L=function(){function t(e){var n=this,i=e.canvas,a=e.el;c(this,t),this.processEvent=void 0,this.canvas=void 0,this.startTime=0,this.endTime=0,this.startPoints=null,this.startDistance=0,this.center=null,this.pressTimeout=void 0,this.eventType=null,this.direction=null,this.lastMoveTime=0,this.prevMovePoints=null,this.prevMoveTime=0,this.lastMovePoints=null,this.pinch=!1,this._click=function(t){var e=D(t,n.canvas);t.points=e,n.emitEvent("click",t)},this._start=function(t){var e,i,a=D(t,n.canvas);a&&(t.points=a,n.emitEvent("touchstart",t),n.reset(),n.startTime=Date.now(),n.startPoints=a,a.length>1?(n.startDistance=M(a[0],a[1]),n.center={x:(e=a[0]).x+((i=a[1]).x-e.x)/2,y:e.y+(i.y-e.y)/2}):n.pressTimeout=setTimeout((function(){var e="press",i="none";t.direction=i,n.emitStart(e,t),n.emitEvent(e,t),n.eventType=e,n.direction=i}),250))},this._move=function(t){var e=D(t,n.canvas);if(e){t.points=e,n.emitEvent("touchmove",t);var i=n.startPoints;if(i)if(e.length>1){var a=n.startDistance,s=M(e[0],e[1]);t.zoom=s/a,t.center=n.center,n.emitStart("pinch",t),n.emitEvent("pinch",t)}else{var r=e[0].x-i[0].x,o=e[0].y-i[0].y,c=n.direction||A(i[0],e[0]);n.direction=c;var u=n.getEventType(e);t.direction=c,t.deltaX=r,t.deltaY=o,n.emitStart(u,t),n.emitEvent(u,t);var h=n.lastMoveTime,l=Date.now();l-h>0&&(n.prevMoveTime=h,n.prevMovePoints=n.lastMovePoints,n.lastMoveTime=l,n.lastMovePoints=e)}}},this._end=function(t){var e=D(t,n.canvas);t.points=e,n.emitEnd(t),n.emitEvent("touchend",t);var i=n.lastMoveTime;if(100>Date.now()-i){var a=i-(n.prevMoveTime||n.startTime);if(a>0){var s=n.prevMovePoints||n.startPoints,r=n.lastMovePoints;if(!s||!r)return;var o=M(s[0],r[0])/a;o>.3&&(t.velocity=o,t.direction=A(s[0],r[0]),n.emitEvent("swipe",t))}}n.reset();var c=t.touches;c&&c.length>0&&n._start(t)},this._cancel=function(t){n.emitEvent("touchcancel",t),n.reset()},this.canvas=i,this.delegateEvent(a),this.processEvent={}}return h(t,[{key:"delegateEvent",value:function(t){t.addEventListener("click",this._click),t.addEventListener("touchstart",this._start),t.addEventListener("touchmove",this._move),t.addEventListener("touchend",this._end),t.addEventListener("touchcancel",this._cancel)}},{key:"emitEvent",value:function(t,e){this.canvas.emit(t,e)}},{key:"getEventType",value:function(t){var e,n=this.eventType,i=this.startTime,a=this.startPoints;if(n)return n;var s=this.canvas.__events.pan;if(s&&s.length){var r=Date.now();if(!a)return;e=r-i>250&&10>M(a[0],t[0])?"press":"pan"}else e="press";return this.eventType=e,e}},{key:"enable",value:function(t){this.processEvent[t]=!0}},{key:"isProcess",value:function(t){return this.processEvent[t]}},{key:"emitStart",value:function(t,e){this.isProcess(t)||(this.enable(t),this.emitEvent("".concat(t,"start"),e))}},{key:"emitEnd",value:function(t){}},{key:"clearPressTimeout",value:function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)}},{key:"reset",value:function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.pinch=!1,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null}}]),t}(),R=function(t){d(n,E);var e=g(n);function n(t){var i;return c(this,n),(i=e.call(this))._attrs={},i._isWindow=void 0,i._attrs=Object.assign({},t),i._isWindow="undefined"!=typeof window,i._initPixelRatio(),i._initCanvas(),["createImage","toDataURL","requestAnimationFrame"].forEach((function(e){i._initAttrs(e,t.canvas||i.get("el"))})),i}return h(n,[{key:"get",value:function(t){return this._attrs[t]}},{key:"set",value:function(t,e){this._attrs[t]=e}},{key:"_initAttrs",value:function(t,e){var n=this;this.get(t)||this.set(t,(function(){return e[t]?e[t].apply(e,arguments):n._isWindow?window[t]?(i=window)[t].apply(i,arguments):"createImage"==t?new Image:null:void 0;var i}))}},{key:"_initCanvas",value:function(){var t,e,n=this.get("el"),i=this.get("context");if(!n&&!i)throw Error("请指定 id、el 或 context!");t=n?w(n)?(e=n)?document.getElementById(e):null:n:function(t,e){return t?function(t){if(!t)return!1;if(1!==t.nodeType||!t.nodeName||"canvas"!==t.nodeName.toLowerCase())return!1;var e=!1;try{t.addEventListener("eventTest",(function(){e=!0})),t.dispatchEvent(new Event("eventTest"))}catch(t){e=!1}return e}(t.canvas)?t.canvas:new C(t,e):null}(i,this._attrs),i&&t&&!t.getContext&&(t.getContext=function(){return i});var a=this.get("width")||function(t){var e=S(t,"width");return"auto"===e&&(e=t.offsetWidth),parseFloat(e)}(t)||t.width,s=this.get("height")||function(t){var e=S(t,"height");return"auto"===e&&(e=t.offsetHeight),parseFloat(e)}(t)||t.height;this.set("canvas",this),this.set("el",t),this.set("context",i||t.getContext("2d")),this.changeSize(a,s);var r=new L({canvas:this,el:t,parent:this.get("parent")});this.set("eventController",r)}},{key:"_initPixelRatio",value:function(){this.get("pixelRatio")||this.set("pixelRatio",window&&window.devicePixelRatio||1)}},{key:"changeSize",value:function(t,e){var n,i=this.get("pixelRatio"),a=this.get("el");a.style&&(a.style.width=t+"px",a.style.height=e+"px"),(n=a)&&"object"===o(n)&&(1===n.nodeType&&n.nodeName||n.isCanvasElement)&&(a.width=t*i,a.height=e*i,1!==i&&this.get("context").scale(i,i)),this.set("width",t),this.set("height",e)}},{key:"destroy",value:function(){if(!this.get("destroyed")){var t=this.get("el");t.width=0,t.height=0,this.clear(),this._attrs={},this.set("destroyed",!0)}}},{key:"clear",value:function(){}},{key:"isDestroyed",value:function(){return this.get("destroyed")}}]),n}(),T={penColor:"black",backgroundColor:"",openSmooth:!0,penSize:2,minLineWidth:2,maxLineWidth:6,minSpeed:1.5,maxWidthDiffRate:20,maxHistoryLength:20},I=null,W=function(){function t(e){var n=this;c(this,t),this.canAddHistory=!0,this.points=[],this.historyList=[],this.canvas=void 0,this._isEmpty=!0,this.active=!1,this.getLineWidth=function(t){var e=n.get("options"),i=e.minSpeed,a=e.minLineWidth,s=n.getMaxLineWidth();return Math.min(Math.max(s-(s-a)*t/Math.max(Math.min(i,10),1),a),s)},this.drawTrapezoid=function(t,e,i,a){var s=n.get("context");s.beginPath(),s.moveTo(Number(t.x.toFixed(1)),Number(t.y.toFixed(1))),s.lineTo(Number(e.x.toFixed(1)),Number(e.y.toFixed(1))),s.lineTo(Number(i.x.toFixed(1)),Number(i.y.toFixed(1))),s.lineTo(Number(a.x.toFixed(1)),Number(a.y.toFixed(1))),s.fillStyle=n.get("options").penColor,s.fill(),s.draw&&s.draw(!0)},this.drawNoSmoothLine=function(t,e){e.lastX=t.x+.5*(e.x-t.x),e.lastY=t.y+.5*(e.y-t.y),"number"==typeof t.lastX&&n.drawCurveLine(t.lastX,t.lastY,t.x,t.y,e.lastX,e.lastY,n.getMaxLineWidth())},this.drawCurveLine=function(t,e,i,a,s,r,o){o=Number(o.toFixed(1));var c=n.get("context");c.lineWidth=o,c.beginPath(),c.moveTo(Number(t.toFixed(1)),Number(e.toFixed(1))),c.quadraticCurveTo(Number(i.toFixed(1)),Number(a.toFixed(1)),Number(s.toFixed(1)),Number(r.toFixed(1))),c.stroke(),c.draw&&c.draw(!0)},this.getRadianData=function(t,e,n,i){var a=n-t,s=i-e;if(0===a)return{val:0,pos:-1};if(0===s)return{val:0,pos:1};var r=Math.abs(Math.atan(s/a));return n>t&&e>i||t>n&&i>e?{val:r,pos:1}:{val:r,pos:-1}},this.getRadianPoints=function(t,e,n,i){if(0===t.val)return 1===t.pos?[{x:e,y:n+i},{x:e,y:n-i}]:[{y:n,x:e+i},{y:n,x:e-i}];var a=Math.sin(t.val)*i,s=Math.cos(t.val)*i;return 1===t.pos?[{x:e+a,y:n+s},{x:e-a,y:n-s}]:[{x:e+a,y:n-s},{x:e-a,y:n+s}]},this.drawSmoothLine=function(t,e){var i=e.x-t.x,a=e.y-t.y;if(Math.abs(i)+Math.abs(a)>2?(e.lastX1=t.x+.3*i,e.lastY1=t.y+.3*a,e.lastX2=t.x+.7*i,e.lastY2=t.y+.7*a):(e.lastX1=e.lastX2=t.x+.5*i,e.lastY1=e.lastY2=t.y+.5*a),e.perLineWidth=(t.lineWidth+e.lineWidth)/2,"number"==typeof t.lastX1){if(n.drawCurveLine(t.lastX2,t.lastY2,t.x,t.y,e.lastX1,e.lastY1,e.perLineWidth),t.isFirstPoint)return;if(t.lastX1===t.lastX2&&t.lastY1===t.lastY2)return;var s=n.getRadianData(t.lastX1,t.lastY1,t.lastX2,t.lastY2),r=n.getRadianPoints(s,t.lastX1,t.lastY1,t.perLineWidth/2),o=n.getRadianPoints(s,t.lastX2,t.lastY2,e.perLineWidth/2);n.drawTrapezoid(r[0],o[0],o[1],r[1])}else e.isFirstPoint=!0},this.addHistory=function(){var t=n.get("options").maxHistoryLength;if(t&&n.canAddHistory)if(n.canAddHistory=!1,n.get("createImage")){var e=null;e=n.get("createImage")();var i=n.get("toDataURL")&&n.get("toDataURL")();w(i)?e.src=i:i.then((function(t){e.src=t})),e.onload=function(){var i=I;I=e,n.historyList.push(i),n.historyList=n.historyList.slice(-t)}}else n.historyList.length++},this.drawByImage=function(t){var e=n.get("context"),i=n.get("width"),a=n.get("height");e.clearRect(0,0,i,a);try{t&&e.drawImage(t,0,0,i,a),e.draw&&e.draw(!0)}catch(t){n.historyList.length=0}},this.isEmpty=function(){return n.get("options").maxHistoryLength>0?0===n.historyList.length:n._isEmpty},this.clear=function(){var t=n.get("context");t.clearRect(0,0,n.get("width"),n.get("height")),t.draw&&t.draw(),n._isEmpty=!0,I=null,n.historyList.length=0},this.undo=function(){if(0===n.get("options").maxHistoryLength&&n.clear(),n.get("createImage")&&n.historyList.length){var t=n.historyList.splice(-1)[0];n.drawByImage(t),0===n.historyList.length&&n.clear()}},this.canvas=e,this.canvas.set("pen",T),this.init()}return h(t,[{key:"getOption",value:function(){}},{key:"setOption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=r({},t),n=e.maxLineWidth;if(n&&t.penSize&&n==T.maxLineWidth){var i=Math.max(n,t.penSize);e.maxLineWidth=i}this.canvas.set("pen",Object.assign({},T,e))}},{key:"get",value:function(t){return this.canvas.get("options"==t?"pen":t)}},{key:"init",value:function(){var t=this;this.get("context").lineCap="round",this.canvas.on("touchstart",(function(e){return t.onDrawStart(e)})),this.canvas.on("touchmove",(function(e){return t.onDrawMove(e)})),this.canvas.on("touchend",(function(e){return t.onDrawEnd(e)}))}},{key:"drawBackground",value:function(){var t=this.get("context"),e=this.get("width"),n=this.get("height"),i=this.get("options"),a=i.backgroundColor,s=i.backgroundImage;a&&(t.fillStyle=a,t.fillRect(0,0,e,n),t.draw&&t.draw(!0)),s&&this.drawByImage(s)}},{key:"getContentBoundingBox",value:function(t){var e=this.get("pixelRatio"),n=this.get("width"),i=this.get("height"),a=this.get("el"),s="CANVAS"===a.nodeName,r=s?n:a.width,o=s?i:a.height;e=s?1:e;var c=function(n){for(var i=r,a=o,s=0,c=0,u=0;n.length>u;u+=4)if(n[u+3]>0){var h=u/4%r,l=Math.floor(u/4/r);i=Math.min(i,h),a=Math.min(a,l),s=Math.max(s,h),c=Math.max(c,l)}var d={width:(s-i+1)/e,height:(c-a+1)/e,startX:i/e,startY:a/e};return t&&t(d),d};if("CANVAS"===a.nodeName){var u=document.createElement("canvas");u.width=n,u.height=i;var h=u.getContext("2d");h.drawImage(a,0,0,n,i);var l=h.getImageData(0,0,n,i).data;return c(l)}var d,f=this.get("context").getImageData(0,0,r,o);return m(d=f)&&_(d.then)&&_(d.catch)?(f.then((function(t){return c(t.data)})),null):c(f.data)}},{key:"remove",value:function(){var t=this;this.canvas.off("touchstart",(function(e){return t.onDrawStart(e)})),this.canvas.off("touchmove",(function(e){return t.onDrawMove(e)})),this.canvas.off("touchend",(function(e){return t.onDrawEnd(e)}))}},{key:"disableScroll",value:function(t){t.preventDefault&&this.get("options").disableScroll&&t.preventDefault()}},{key:"onDrawStart",value:function(t){this.disableScroll(t);var e=t.points;if(this.active){this.canAddHistory=!0,this.get("context").strokeStyle=this.get("options").penColor;var n=e[0];this.initPoint(n.x,n.y)}}},{key:"onDrawMove",value:function(t){if(this.disableScroll(t),this.active){var e=t.points[0];this.initPoint(e.x,e.y),this.onDraw()}}},{key:"onDrawEnd",value:function(t){this.active&&(this.addHistory(),this.canAddHistory=!0,this.points=[])}},{key:"onDraw",value:function(){var t=this,e=this.get("context");if(this.points.length>=2){e.lineWidth=this.get("options").penSize||2;var n=this.points.slice(-1)[0],i=this.points.slice(-2,-1)[0],a=function(){t._isEmpty=!1,t.get("options").openSmooth?t.drawSmoothLine(i,n):t.drawNoSmoothLine(i,n)},s=this.get("el").canvas;s&&s.requestAnimationFrame?s.requestAnimationFrame((function(){return a()})):"function"==typeof requestAnimationFrame?requestAnimationFrame((function(){return a()})):a()}}},{key:"getMaxLineWidth",value:function(){var t=this.get("options");return Math.min(t.penSize,t.maxLineWidth)}},{key:"initPoint",value:function(t,e){var n={x:t,y:e,t:Date.now()},i=this.points.slice(-1)[0];if(!i||i.t!==n.t&&(i.x!==t||i.y!==e)){if(this.get("options").openSmooth&&i){var a=this.points.slice(-2,-1)[0];if(n.distance=Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2)),n.speed=n.distance/(n.t-i.t||.1),n.lineWidth=this.getLineWidth(n.speed),a&&a.lineWidth&&i.lineWidth){var s=(n.lineWidth-i.lineWidth)/i.lineWidth,r=this.get("options").maxWidthDiffRate/100;r=r>1?1:.01>r?.01:r,Math.abs(s)>r&&(n.lineWidth=i.lineWidth*(1+(s>0?r:-r)))}}this.points.push(n),this.points=this.points.slice(-3)}}}]),t}(),O=function(){function t(e){c(this,t),this.canvas=void 0,this._ee=void 0,this.pen=void 0;var n=new R(e);n.set("parent",this),this.canvas=n,this._ee=new E,this.pen=new W(n),this.init()}return h(t,[{key:"init",value:function(){this.pen.active=!0}},{key:"destroy",value:function(){this.canvas.destroy()}},{key:"clear",value:function(){this.pen.clear()}},{key:"undo",value:function(){this.pen.undo()}},{key:"save",value:function(){}},{key:"getContentBoundingBox",value:function(t){return this.pen.getContentBoundingBox(t)}},{key:"isEmpty",value:function(){return this.pen.isEmpty()}},{key:"on",value:function(t,e){this._ee.on(t,e)}},{key:"emit",value:function(t,e){this._ee.emit(t,e)}},{key:"off",value:function(t,e){this._ee.off(t,e)}}]),t}();e.Signature=O;var F=O;e.default=F},"30bbf":function(t,e,n){"use strict";n.r(e);var i=n("0d58"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},3551:function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.uniContext=e.toDataURL=e.createImage=void 0,e.useCurrentPage=function(){var t=getCurrentPages();return t[t.length-1]};var a=i(n("5530")),s=i(n("d4ec")),r=i(n("bee2"));n("99af"),n("d3b7");e.uniContext=function(t,e){var n=uni.createCanvasContext(t,e);return n.uniDrawImage||(n.uniDrawImage=n.drawImage,n.drawImage=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];n.uniDrawImage.apply(n,[t.src].concat(i))}),n.getImageData||(n.getImageData=function(n,i,a,s){return new Promise((function(r,o){e.proxy&&(e=e.proxy),uni.canvasGetImageData({canvasId:t,x:n,y:i,width:a,height:s,success:function(t){r(t)},fail:function(t){o(t)}},e)}))}),n};var o=function(){function t(){(0,s.default)(this,t),this.currentSrc=null,this.naturalHeight=0,this.naturalWidth=0,this.width=0,this.height=0,this.tagName="IMG"}return(0,r.default)(t,[{key:"src",get:function(){return this.currentSrc},set:function(t){var e=this;this.currentSrc=t,uni.getImageInfo({src:t,success:function(t){e.naturalWidth=e.width=t.width,e.naturalHeight=e.height=t.height,e.onload()},fail:function(){e.onerror()}})}}]),t}();e.createImage=function(){return new o};e.toDataURL=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(i,s){var r=n.canvas,o=(n.width,n.height,n.destWidth,n.destHeight,n.x,n.y,(0,a.default)((0,a.default)({},n),{},{canvasId:t,id:t,canvas:r,success:function(t){i(t.tempFilePath)},fail:function(t){s(t)}}));r&&r.toTempFilePath?r.toTempFilePath(o):uni.canvasToTempFilePath(o,e)}))}},"36db":function(t,e,n){var i=n("55d5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("51974854",i,!0,{sourceMap:!1,shadowMode:!1})},4029:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.lime-signature[data-v-3da3c802],\n.lime-signature__canvas[data-v-3da3c802]{position:relative;width:100%;height:100%}.mask[data-v-3da3c802]{position:absolute;left:0;right:0;bottom:0;top:0}.offscreen[data-v-3da3c802]{position:fixed;top:0;left:9999px}',""]),t.exports=e},"4206a":function(t,e,n){"use strict";n.r(e);var i=n("18b8"),a=n("c6fd");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);var r=n("30bbf");for(var s in r)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(s);n("5c63");var o=n("f0c5");a["default"].__module="sign";var c=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"3da3c802",null,!1,i["a"],a["default"]);e["default"]=c.exports},"55d5":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.security[data-v-048a911e]{padding:%?40?%}.security .item[data-v-048a911e]{margin-bottom:%?40?%}.security .item .desc[data-v-048a911e]{font-size:%?24?%;font-weight:500;color:#333;line-height:%?34?%;margin-bottom:%?20?%}.security .item .input[data-v-048a911e]{height:%?90?%;background:#f4f5f7;border-radius:%?12?%;padding:0 %?20?%;padding-top:%?10?%}.security .item .sign[data-v-048a911e]{height:%?500?%;background-color:#f4f5f7;border-radius:%?12?%;position:relative}.security .item .sign_full[data-v-048a911e]{position:absolute;top:%?30?%;right:%?30?%;width:%?40?%;height:%?40?%;z-index:11111111111;background-color:#f4f5f7}.security .item .sign_full uni-image[data-v-048a911e]{width:100%;height:100%}.security .item .sign_box[data-v-048a911e]{height:%?418?%}.security .item .sign_btns[data-v-048a911e]{display:flex;align-items:center;border-top:%?2?% solid #e1e1e1}.security .item .sign_btns_one[data-v-048a911e], .security .item .sign_btns_two[data-v-048a911e]{flex:1;text-align:center;line-height:%?80?%;font-size:%?32?%;font-weight:500;color:#35cba5}.security .item .sign_btns_two[data-v-048a911e]{border-left:%?2?% solid #e1e1e1}.security .buttons[data-v-048a911e]{margin:%?80?% 0 %?20?%;height:%?90?%;background:#35cba5;border-radius:%?12?%;line-height:%?90?%;text-align:center;font-size:%?32?%;font-family:PingFangSC,PingFang SC;font-weight:600;color:#fff}.security .tips[data-v-048a911e]{font-size:%?24?%;font-weight:400;color:#35cba5;line-height:%?34?%}',""]),t.exports=e},"5a10":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("a769")),s=a.default;e.default=s},"5c63":function(t,e,n){"use strict";var i=n("94da"),a=n.n(i);a.a},"60f8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAudJREFUWEftmc2K01AUx/8nyoCIosu6EsG1CL7APIHjwmEUcSojPTfCbMWPTTZ+4HbA3FvUmRHRQReOT+ALCOJacLqaLhVFxGJz5NakZNI0TSZt2oXZJG3uPfnlfN57Qogdvu+fJaJVAPNEdALAXPz+BK87IrIL4L2IrLmu+zF6FtkLz/OcWq12D8BNAM4EQfKIDgA8arfbdz3PC3qAxpgHAG7FZrdE5BMRdfJILDtGROaI6AyAkzFZD5n5NlmzOo7zIdTcLyK60Wg0NgFI2QcXnE/NZnNZRB4DOAQgCILgHGmtnxHRNSvMnhuNxkZBwWMd3mw26yKyboXaMxljdkLVtpj51Lg15/v+ouM4FwAcGPYmIvITwH2l1GerJ2PMl4jJ/vhto1VE3imlFsaqjn/+/R3AkVFyRWRDKdWzpNZ6m4jOA+hYwMjX3jDz4ihBRe8bY54DuJylwVBm//nGmNcALvbcbtKAaS9kjFkG8DQBPRuACbhuDHL6gClwKwCirDFdwDQ4Zt5Mc7HKfXAYXFjFBoK0UsAsuKkDjoILAf+EgbLFzJfC/yafZrTWV4jIBoCtIDZaV6zPJdNOmCcXgiC47rquBbPJffKAxpivAI5lwQ1L+pUAaq19IloSkVWl1IsiFagSwCJAKWafvIn/A5bRQNm5Y/PBMJWsiciWUsotCxbNHwtgIgl/Y+bjlQGGy/QnALaZ+WpKlMXXc10RqRdNJVkvM1KDxphXAJZskmXmg3FhecpXWU3mAeznIWbu7Z3DErRHc8PK11QAq9Bc7iCJq9hqsEq4XIuFOCCAemyDM3RVUtasCT/PLnUJwGhjUwncfjRo51QGt1/ANAta6JdpebKsuZNpZqD1obVeJyLre6OOH8x8dNSgovf3tD601jtEZPty/eaR1vo0gDtEdDhDeDcIgrfRMr0oRMb4fvNIRFqz336b+QZmGDWz2wK2gDPfRI8cNvoMQUTzACr9DAFgV0QGPkP8BUjNX1z1sNhlAAAAAElFTkSuQmCC"},"6b5b":function(t,e,n){"use strict";n.r(e);var i=n("a71a"),a=n("116d");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("ca46");var r=n("f0c5"),o=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"048a911e",null,!1,i["a"],void 0);e["default"]=o.exports},"73ba":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var i={styles:String,disableScroll:{type:Boolean,default:!0},type:{type:String,default:"2d"},penColor:{type:String,default:"black"},penSize:{type:Number,default:2},backgroundColor:String,openSmooth:Boolean,minLineWidth:{type:Number,default:2},maxLineWidth:{type:Number,default:6},minSpeed:{type:Number,default:1.5},maxWidthDiffRate:{type:Number,default:20},maxHistoryLength:{type:Number,default:20},beforeDelay:{type:Number,default:10},landscape:{type:Boolean},boundingBox:{type:Boolean}};e.default=i},"751c":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("c7eb")),s=i(n("1da1"));n("ac1f"),n("466d"),n("d401"),n("81b2"),n("0eb6"),n("b7ef"),n("8bd4"),n("ace4"),n("d3b7"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("498a");var r=n("74f4"),o={data:function(){return{investData:{product_id:"",investment_amount:"",signature_image_path:"",pay_password:""}}},onShow:function(){uni.setNavigationBarTitle({title:this.$t("security")})},onLoad:function(t){console.log(t),t&&(this.investData.product_id=t.id,this.investData.investment_amount=t.amount)},methods:{save:function(){var t=this;this.$refs.signatureRef.canvasToTempFilePath({success:function(e){if(console.log(e.isEmpty),e.isEmpty)return uni.showToast({title:t.$t("pleaseEnterPwd"),icon:"none"});t.investData.signature_image_path=e.tempFilePath,uni.showToast({title:t.$t("sign")+t.$t("complete"),icon:"none"})}})},parseBlob:function(t){for(var e=t.split(","),n=e[0].match(/:(.*?);/)[1],i=atob(e[1]),a=i.length,s=new Uint8Array(a),r=0;r<a;r++)s[r]=i.charCodeAt(r);var o=URL||webkitURL;return o.createObjectURL(new Blob([s],{type:n}))},clear:function(){this.$refs.signatureRef.clear()},submit:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var n;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.investData.pay_password.trim()&&0!==t.investData.pay_password.length){e.next=2;break}return e.abrupt("return",uni.showToast({title:t.$t("pleaseEnterPwd"),icon:"none"}));case 2:if(0!==t.investData.signature_image_path.length){e.next=4;break}return e.abrupt("return",uni.showToast({title:t.$t("pleaseSign"),icon:"none"}));case 4:return e.next=6,(0,r.createStockOrder)(t.investData);case 6:n=e.sent,console.log(n),1===n.code&&uni.switchTab({url:"/pages/product/product"});case 9:case"end":return e.stop()}}),e)})))()}}};e.default=o},"94da":function(t,e,n){var i=n("4029");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("03ba1d4a",i,!0,{sourceMap:!1,shadowMode:!1})},a71a:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var i={uInput:n("71da").default,jpSignature:n("4206a").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"security"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"desc"},[t._v(t._s(t.$t("password")))]),i("v-uni-view",{staticClass:"input"},[i("u-input",{attrs:{placeholder:t.$t("enterPwd"),type:"password"},model:{value:t.investData.pay_password,callback:function(e){t.$set(t.investData,"pay_password",e)},expression:"investData.pay_password"}})],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"desc"},[t._v(t._s(t.$t("sign")))]),i("v-uni-view",{staticClass:"sign"},[i("v-uni-view",{staticClass:"sign_full"},[i("v-uni-image",{attrs:{src:n("60f8"),mode:""}})],1),i("v-uni-view",{staticClass:"sign_box"},[i("jp-signature",{ref:"signatureRef"})],1),i("v-uni-view",{staticClass:"sign_btns"},[i("v-uni-view",{staticClass:"sign_btns_one",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._v(t._s(t.$t("aginSign")))]),i("v-uni-view",{staticClass:"sign_btns_two",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save.apply(void 0,arguments)}}},[t._v(t._s(t.$t("complete")))])],1)],1)],1),i("v-uni-view",{staticClass:"buttons",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v(t._s(t.$t("submit")))]),i("v-uni-view",{staticClass:"tips"},[t._v(t._s(t.$t("forgotPassword")))])],1)},s=[]},a769:function(t,e){},c6fd:function(t,e,n){"use strict";n.r(e);var i=n("5a10"),a=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},ca46:function(t,e,n){"use strict";var i=n("36db"),a=n.n(i);a.a}}]);